# Тестовое задание стажировка Авито (зима 2025)

## Общая информация :

- Музыкальный плеер. 
- Первый экран - deezer, по умолчанию идёт загрузка треков из chart + поиск по deezer.
- Второй экран - список треков с устройства, получен через Cursor + поиск по списку.

В списках отражены название трека, имя автора и картинка альбома.

Между двумя экранами с треками переключение через BottomNavigation. 
По нажатию на элемент списка открывается экран плеера, а также запускается сервис.

- Плеер. Отражены картинка альбома, название трека, название альбома, имя автора. Навигация между треками в списке, пауза/воспроизведение. 

Проигрывание музыки осуществляется через сервис с показом уведомления. 
В уведомлении отражено название трека, а также присутствуют 
кнопки пауза/воспроизведение, следующий трек, предыдущий трек.


## Использованные технологии :

- **Язык**: kotlin
- **Работа с сетью**: Retrofit2, OkHttp
- **Многопоточность**: Kotlin Coroutines/Flow
- **View**: Jetpack Compose, Coil
- **Сериализаторы**: Gson
- **Навигация**: Jetpack Navigation
- **Архитектура**: MVVM
- **Плеер**: Media 3 ExoPlayer

### **Схема приложения**

- В приложении 4 модуля - app, core, local, remote.
- Модуль core содержит константы, модель трека, переиспользуемый элемент списка треков, а также SharedDataManager - синглтон-объект для связи с сервисом через SharedFlow.
- Модули local и remote содержат логику получения списка треков, соответственно с устройства и из указанного интернет-ресурса. Также модули содержат composable-функции для
отображения экранов со списками треков (я не стал делать общий экран треков из-за зависимости экранов от ViewModel, которая у каждого источника данных своя)
- Модуль app содержит навигацию между экранами, логику запрашивания разрешений, а также предварительно запускает boundService


## Проблемы и ход решения

- Реализованный механизм отправки уведомлений неоптимален, я не стал использовать MediaSessionService (и связанные с ним классы) из-за того, что не имел достаточного
количества времени чтобы разобраться в технологии.
- Частично из-за нехватки времени и, в большей степени, опыта использования я реализовал Hilt вместо Dagger.
- Также в связи с полным отсутствием опыта работы с ветками (всегда всё делал в одиночку и распределять фичи по веткам не было необходимости) всё выложено в master

## Видео работы приложения
https://github.com/user-attachments/assets/1a8d4edf-166d-455a-a2e1-c7146964ad08
